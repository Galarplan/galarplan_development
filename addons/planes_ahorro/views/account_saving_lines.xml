<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <record id="account_saving_lines_tree_view" model="ir.ui.view">
      <field name="name">account.saving.lines.view</field>
      <field name="model">account.saving.lines</field>
      <field name="arch" type="xml">
        <tree edit="false" create="false" delete="false"
        decoration-it="(not invoice_id and parent_saving_state not in ('draft','cancel') and estado_pago=='pagado')"
              decoration-bf="(migrated_has_invoices or migrated_payment_amount!=0.00 )"
              limit="80 "
        >
            <field name="sequence" optional="hide"/>
             <field name="id" string="# ID" optional="hide"/>
                 <field name="currency_id" invisible="1"/>
                            <field name="number"/>
                                <field name="date"/>
                                <field name="saving_amount" sum="total"/>
                               <field name="principal_amount" sum="total"/>

                                 <field name="serv_admin_amount" sum="total"/>
                               <field name="seguro_amount" sum="total"/>

                                    <field name="serv_admin_percentage" sum="total" optional="hide"/>
                               <field name="seguro_percentage" sum="total" optional="hide"/>

                               <field name="pagos"  sum="total"/>
                                <field name="pendiente" sum="pendiente"/>



                                <field name="estado_pago" decoration-muted="estado_pago=='sin_aplicar'"
                                decoration-danger="estado_pago=='pendiente'"
                                       decoration-success="estado_pago=='pagado'"
widget="badge"
                                />
                            <button name="action_invoice"
                      help="Facturar" icon="fa-money"
                      type="object"
                                    confirm="La facturacion se ejecutara de forma automatica.¿Estas seguro de ejecutar esta accion?"
                      attrs="{'invisible':['|','|',('parent_saving_state','in',('draft','cancel')),('invoice_id','!=',False),('enabled_invoice','!=',True)]}"
                      />


                       <field name="migrated" optional="hide" />
                                    <field name="migrated_payment_amount" optional="hide"  sum="total"/>
                        <field name="migrated_has_invoices" optional="hide" />
<field name="enabled_invoice" optional="hide" />


                               <field name="invoice_id" optional="hide"/>
                                            <field name="parent_saving_state" invisible="1"/>
        </tree>
      </field>
    </record>
 


    <record id="account_saving_lines_form_view" model="ir.ui.view">
      <field name="name">account_saving.lines.form.view</field>
      <field name="model">account.saving.lines</field>
      <field name="arch" type="xml">
                    <form string="saving items" edit="false" create="false" delete="false">
                            <header>
                            <button name="action_invoice"
                      help="Facturar" icon="fa-money"
                      string="object"
                                    confirm="La facturacion se ejecutara de forma automatica.¿Estas seguro de ejecutar esta accion?"
                      attrs="{'invisible':['|','|',('parent_saving_state','in',('draft','cancel')),('invoice_id','!=',False),('enabled_invoice','!=',True)]}"
                      />
                            </header>
                            <group>
                            <group>
<field name="sequence" readonly="1"/>
                                <field name="enabled_invoice" invisible="1" />
                                <field name="parent_saving_state" invisible="1"/>
                 <field name="currency_id" invisible="1"/>
                            <field name="number"  readonly="1"/>
                                <field name="date"  readonly="1"/>
                                <field name="saving_amount"   readonly="1"/>
                               <field name="principal_amount"   readonly="1"/>

                                        <field name="serv_admin_amount"  readonly="1"/>
                               <field name="seguro_amount"  readonly="1"/>

                               <field name="pagos"   readonly="1"/>
                            </group>
                                 <group>
                                  <field name="pendiente"  readonly="1"/>
                                <field name="estado_pago"  readonly="1"/>
                                                               <field name="invoice_id"  readonly="1"/>
                            </group>

                            </group>




                             </form>
      </field>

    </record>


</odoo>